# üëÅÔ∏è –î–µ—Ç–µ–∫—Ü–∏—è –ª—é–¥–µ–π –Ω–∞ –≤–∏–¥–µ–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º OpenCV DNN

–ü—Ä–æ—Å—Ç–æ–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Python, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–π –¥–µ—Ç–µ–∫—Ü–∏—é –ª—é–¥–µ–π –Ω–∞ –≤–∏–¥–µ–æ —Å –ø–æ–º–æ—â—å—é –º–æ–¥—É–ª—è OpenCV DNN –∏ –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ MobileNet SSD. –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –≤–∏–¥–µ–æ —Å –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–∞–º–∫–∞–º–∏ –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –¥–µ—Ç–µ–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
crowd_detector/
‚îú‚îÄ‚îÄ data/                  # –í—Ö–æ–¥–Ω–æ–µ –≤–∏–¥–µ–æ
‚îÇ   ‚îî‚îÄ‚îÄ crowd.mp4
‚îú‚îÄ‚îÄ output/                # –í—ã—Ö–æ–¥–Ω–æ–µ –≤–∏–¥–µ–æ
‚îÇ   ‚îî‚îÄ‚îÄ crowd_annotated.mp4
‚îú‚îÄ‚îÄ models/                # –í–µ—Å—ã –º–æ–¥–µ–ª–∏ MobileNet SSD
‚îÇ   ‚îú‚îÄ‚îÄ deploy.prototxt
‚îÇ   ‚îî‚îÄ‚îÄ mobilenet_iter_73000.caffemodel
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ detector.py        # –õ–æ–≥–∏–∫–∞ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ utils.py           # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∏–¥–µ–æ
‚îú‚îÄ‚îÄ main.py                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
## üß™ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.9 –∏–ª–∏ –≤—ã—à–µ
- OpenCV
- NumPy

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
Bash

pip install -r requirements.txt


2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:
Bash

python main.py --input data/crowd.mp4 --output output/crowd_annotated.mp4
## üé• –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–µ –≤–∏–¥–µ–æ, –≥–¥–µ –≤—Å–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ª—é–¥–∏ –æ–±–≤–µ–¥–µ–Ω—ã –∑–µ–ª—ë–Ω—ã–º–∏ —Ä–∞–º–∫–∞–º–∏ —Å –ø–æ–¥–ø–∏—Å—å—é person: 0.87, –≥–¥–µ —á–∏—Å–ª–æ ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å.

## üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –ö–ª–∞—Å—Å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è: —Ç–æ–ª—å–∫–æ person (ID = 15)
- –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏: 0.5
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±–ª–µ–≥—á—ë–Ω–Ω—ã–π OpenCV DNN (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç PyTorch –∏–ª–∏ TensorFlow)
